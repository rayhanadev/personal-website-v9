---
import Analytics from "@vercel/analytics/astro";
import SpeedInsights from "@vercel/speed-insights/astro";
import { Font } from "astro:assets";
import { ClientRouter } from "astro:transitions";
import { Head } from "astro-capo";

import Favicons from "../components/Favicons.astro";
import SEO from "../components/SEO.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

import "../styles/global.css";

interface Props {
  title: string;
  description: string;
  keywords?: string[];
}

const { title, description, keywords } = Astro.props;
---

<!doctype html>
<html lang="en">
    <Head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <Font cssVariable="--font-general-sans" preload />

        <Favicons />
        <SEO title={title} description={description} keywords={keywords} />

        <meta
            name="robots"
            content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large"
        />

        <link rel="sitemap" href="/sitemap-index.xml" />
        <link
            rel="alternate"
            type="application/rss+xml"
            title="Ray's Substack"
            href="https://rayhanadev.substack.com/feed"
        />

        <Analytics />
        <SpeedInsights />
        <ClientRouter />

        <script>
            if (import.meta.env.DEV) {
                import("react-grab");
            }
        </script>
    </Head>
    <body class="flex flex-col h-dvh w-full antialiased">
        <main class="flex flex-col items-center flex-1 pt-20 pb-10">
            <Header transition:persist />
            <slot />
            <Footer transition:persist />
        </main>
    </body>
</html>
